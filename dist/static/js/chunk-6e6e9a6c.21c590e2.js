(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e6e9a6c"],{"13d5":function(t,e,a){"use strict";var n=a("23e7"),r=a("d58f").left,l=a("a640"),i=a("ae40"),o=l("reduce"),c=i("reduce",{1:0});n({target:"Array",proto:!0,forced:!o||!c},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},c87b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:t.searchDate},model:{value:t.dateValue,callback:function(e){t.dateValue=e},expression:"dateValue"}})],1),a("el-form-item",{attrs:{label:"班次"}},[a("classSelect",{on:{classSelected:t.classSelectedFun}})],1),a("el-form-item",{attrs:{label:"胶料编码"}},[a("all-product-no-select",{on:{productBatchingChanged:t.productBatchingChanged}})],1)],1),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["unqualified_trains","add"],expression:"['unqualified_trains','add']"}],staticStyle:{float:"right","margin-bottom":"20px"},on:{click:t.generateFun}},[t._v("生成不合格处理单")]),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"index",width:"50",label:"No"}}),a("el-table-column",{attrs:{label:"生产日期/班次","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.date)+"/"+t._s(e.row.classes)+" ")]}}])}),a("el-table-column",{attrs:{prop:"equip_no",label:"生产机台"}}),a("el-table-column",{attrs:{prop:"product_no",label:"胶料编码"}}),a("el-table-column",{attrs:{label:"车次"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.setTrains(e.row.actual_trains))+" ")]}}])}),a("el-table-column",{attrs:{label:"不合格项"}},t._l(t.form_head_data,(function(e,n){return a("el-table-column",{key:n,attrs:{label:e},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.indicator_data[e]?a("div",[t.getArrMin(n.row.indicator_data[e])===t.getArrMax(n.row.indicator_data[e])?a("span",[t._v(" "+t._s(t.getArrMin(n.row.indicator_data[e]))+" ")]):a("span",[t._v(" "+t._s(t.getArrMin(n.row.indicator_data[e]))+"- "+t._s(t.getArrMax(n.row.indicator_data[e]))+" ")])]):t._e()]}}],null,!0)})})),1)],1),a("el-dialog",{attrs:{fullscreen:!0,visible:t.handleCardDialogVisible},on:{"update:visible":function(e){t.handleCardDialogVisible=e}}},[a("excel",{ref:"handleCard",attrs:{"list-data-props":t.listData,"form-head-data":t.form_head_data,show:t.handleCardDialogVisible},on:{submitFun:t.submitFun}})],1)],1)},r=[],l=(a("ac1f"),a("841c"),a("96cf"),a("1da1")),i=a("cfc4"),o=a("5dce"),c=a("f5b4"),s=a("ed08"),u=a("1f6c"),d=a("e935"),h={components:{classSelect:i["a"],allProductNoSelect:o["a"],excel:c["a"]},mixins:[d["a"]],data:function(){return{total:0,search:{},options:["已处理","未处理"],tableData:[],handleCardDialogVisible:!1,dateValue:[Object(s["d"])(),Object(s["d"])()],form_head_data:[],loading:!1,listData:[]}},created:function(){this.search.st=Object(s["d"])(),this.search.et=Object(s["d"])(),this.getList()},methods:{getList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,Object(u["X"])("get",null,{params:t.search});case 4:a=e.sent,t.form_head_data=a.form_head_data,t.tableData=a.ret,t.loading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},searchDate:function(t){this.search.st=t?t[0]:"",this.search.et=t?t[1]:"",this.getList()},classSelectedFun:function(t){this.search.classes=t,this.getList()},productBatchingChanged:function(t){this.search.product_no=t?t.material_no:"",this.getList()},handleSelectionChange:function(t){this.listData=t},currentChange:function(){},generateFun:function(){this.listData&&0!==this.listData.length&&(this.handleCardDialogVisible=!0)},submitFun:function(){this.handleCardDialogVisible=!1,this.getList()}}},f=h,b=a("2877"),g=Object(b["a"])(f,n,r,!1,null,null,null);e["default"]=g.exports},d58f:function(t,e,a){var n=a("1c0b"),r=a("7b0b"),l=a("44ad"),i=a("50c4"),o=function(t){return function(e,a,o,c){n(a);var s=r(e),u=l(s),d=i(s.length),h=t?d-1:0,f=t?-1:1;if(o<2)while(1){if(h in u){c=u[h],h+=f;break}if(h+=f,t?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:d>h;h+=f)h in u&&(c=a(c,u[h],h,s));return c}};t.exports={left:o(!1),right:o(!0)}},daa1:function(t,e,a){"use strict";a.d(e,"e",(function(){return l})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"f",(function(){return c})),a.d(e,"g",(function(){return s})),a.d(e,"h",(function(){return u})),a.d(e,"i",(function(){return d})),a.d(e,"c",(function(){return h})),a.d(e,"d",(function(){return f}));var n=a("b775"),r=a("99b1");function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:r["a"].MaterialQuantityDemandedUrl,method:t};return Object.assign(a,e),Object(n["a"])(a)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:r["a"].ClassArrangelUrl,method:t};return Object.assign(a,e),Object(n["a"])(a)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:r["a"].BanburyPlanUrl,method:t};return Object.assign(a,e),Object(n["a"])(a)}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:r["a"].MaterialRepertoryUrl,method:t};return Object.assign(a,e),Object(n["a"])(a)}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:r["a"].MaterialTypelUrl,method:t};return Object.assign(a,e),Object(n["a"])(a)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:r["a"].RubberRepertoryUrl,method:t};return Object.assign(a,e),Object(n["a"])(a)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:r["a"].StageGlobalUrl,method:t};return Object.assign(a,e),Object(n["a"])(a)}function h(t){return Object(n["a"])({url:r["a"].EquipUrl,method:"get",params:t})}function f(){return Object(n["a"])({url:r["a"].GlobalCodesUrl,method:"get",params:{all:1,class_name:"工序"}})}}}]);