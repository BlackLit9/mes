(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78d7996b"],{"1f6c":function(e,a,t){"use strict";t.d(a,"m",(function(){return i})),t.d(a,"W",(function(){return l})),t.d(a,"G",(function(){return o})),t.d(a,"F",(function(){return s})),t.d(a,"B",(function(){return u})),t.d(a,"K",(function(){return c})),t.d(a,"f",(function(){return m})),t.d(a,"l",(function(){return d})),t.d(a,"M",(function(){return f})),t.d(a,"o",(function(){return b})),t.d(a,"d",(function(){return g})),t.d(a,"D",(function(){return h})),t.d(a,"S",(function(){return p})),t.d(a,"j",(function(){return v})),t.d(a,"I",(function(){return _})),t.d(a,"H",(function(){return O})),t.d(a,"J",(function(){return j})),t.d(a,"n",(function(){return I})),t.d(a,"O",(function(){return B})),t.d(a,"P",(function(){return F})),t.d(a,"A",(function(){return y})),t.d(a,"v",(function(){return P})),t.d(a,"z",(function(){return M})),t.d(a,"i",(function(){return k})),t.d(a,"Q",(function(){return U})),t.d(a,"b",(function(){return T})),t.d(a,"x",(function(){return E})),t.d(a,"u",(function(){return x})),t.d(a,"w",(function(){return L})),t.d(a,"t",(function(){return w})),t.d(a,"c",(function(){return C})),t.d(a,"e",(function(){return D})),t.d(a,"k",(function(){return S})),t.d(a,"h",(function(){return $})),t.d(a,"N",(function(){return A})),t.d(a,"L",(function(){return V})),t.d(a,"y",(function(){return q})),t.d(a,"q",(function(){return W})),t.d(a,"E",(function(){return N})),t.d(a,"s",(function(){return R})),t.d(a,"r",(function(){return G})),t.d(a,"U",(function(){return z})),t.d(a,"T",(function(){return H})),t.d(a,"p",(function(){return J})),t.d(a,"R",(function(){return Y})),t.d(a,"V",(function(){return K})),t.d(a,"C",(function(){return Q})),t.d(a,"g",(function(){return X})),t.d(a,"a",(function(){return Z}));var r=t("b775"),n=t("99b1");function i(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={url:n["a"].GlobalCodesUrl,method:e};return Object.assign(t,a),Object(r["a"])(t)}function l(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].WorkSchedulesUrl+a+"/":n["a"].WorkSchedulesUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function o(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].PlanSchedulesUrl+a+"/":n["a"].PlanSchedulesUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function s(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].PlanScheduleUrl+a+"/":n["a"].PlanScheduleUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function u(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].MaterialsUrl+a+"/":n["a"].MaterialsUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function c(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].ProductInfosUrl+a+"/":n["a"].ProductInfosUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function m(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={url:n["a"].CopyProductInfosUrl,method:e};return Object.assign(t,a),Object(r["a"])(t)}function d(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={url:n["a"].EquipUrl,method:e};return Object.assign(t,a),Object(r["a"])(t)}function f(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].RubberMaterialUrl+a+"/":n["a"].RubberMaterialUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function b(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].InternalMixerUrl+a+"/":n["a"].InternalMixerUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function g(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].ClassesListUrl+a+"/":n["a"].ClassesListUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function h(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].PalletFeedBacksUrl+a+"/":n["a"].PalletFeedBacksUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function p(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].TrainsFeedbacksUrl+a+"/":n["a"].TrainsFeedbacksUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function v(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].EchartsListUrl+a+"/":n["a"].EchartsListUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function _(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].ProductClassesPlanUrl+a+"/":n["a"].ProductClassesPlanUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function O(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].ProductClassesPlanPanycreateUrl+a+"/":n["a"].ProductClassesPlanPanycreateUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function j(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].ProductDayPlanNotice+a+"/":n["a"].ProductDayPlanNotice,method:e};return Object.assign(i,t),Object(r["a"])(i)}function I(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].HomePageUrl+a+"/":n["a"].HomePageUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function B(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].TestIndicators+a+"/":n["a"].TestIndicators,method:e};return Object.assign(i,t),Object(r["a"])(i)}function F(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].TestSubTypes+a+"/":n["a"].TestSubTypes,method:e};return Object.assign(i,t),Object(r["a"])(i)}function y(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].MaterialTestOrders+a+"/":n["a"].MaterialTestOrders,method:e};return Object.assign(i,t),Object(r["a"])(i)}function P(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].MatIndicatorTab+a+"/":n["a"].MatIndicatorTab,method:e};return Object.assign(i,t),Object(r["a"])(i)}function M(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].MaterialDataPoints+a+"/":n["a"].MaterialDataPoints,method:e};return Object.assign(i,t),Object(r["a"])(i)}function k(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].DataPoints+a+"/":n["a"].DataPoints,method:e};return Object.assign(i,t),Object(r["a"])(i)}function U(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].TestTypes+a+"/":n["a"].TestTypes,method:e};return Object.assign(i,t),Object(r["a"])(i)}function T(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].BatchingMaterials+a+"/":n["a"].BatchingMaterials,method:e};return Object.assign(i,t),Object(r["a"])(i)}function E(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].MatTestMethods+a+"/":n["a"].MatTestMethods,method:e};return Object.assign(i,t),Object(r["a"])(i)}function x(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].MatDataPointIndicators+a+"/":n["a"].MatDataPointIndicators,method:e};return Object.assign(i,t),Object(r["a"])(i)}function L(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].MatTestIndicatorMethods+a+"/":n["a"].MatTestIndicatorMethods,method:e};return Object.assign(i,t),Object(r["a"])(i)}function w(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].LevelResult+a+"/":n["a"].LevelResult,method:e};return Object.assign(i,t),Object(r["a"])(i)}function C(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].ClassesBanburySummary+a+"/":n["a"].ClassesBanburySummary,method:e};return Object.assign(i,t),Object(r["a"])(i)}function D(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].CollectTrainsFeed+a+"/":n["a"].CollectTrainsFeed,method:e};return Object.assign(i,t),Object(r["a"])(i)}function S(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].EquipBanburySummary+a+"/":n["a"].EquipBanburySummary,method:e};return Object.assign(i,t),Object(r["a"])(i)}function $(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].CutTimeCollect+a+"/":n["a"].CutTimeCollect,method:e};return Object.assign(i,t),Object(r["a"])(i)}function A(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].SumSollectTrains+a+"/":n["a"].SumSollectTrains,method:e};return Object.assign(i,t),Object(r["a"])(i)}function V(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].PutPlanManagement+a+"/":n["a"].PutPlanManagement,method:e};return Object.assign(i,t),Object(r["a"])(i)}function q(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].MaterialCount+a+"/":n["a"].MaterialCount,method:e};return Object.assign(i,t),Object(r["a"])(i)}function W(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].InventoryLog+a+"/":n["a"].InventoryLog,method:e};return Object.assign(i,t),Object(r["a"])(i)}function N(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].PalletTrainsFeedbacks+a+"/":n["a"].PalletTrainsFeedbacks,method:e};return Object.assign(i,t),Object(r["a"])(i)}function R(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].LbPlanManagement+a+"/":n["a"].LbPlanManagement,method:e};return Object.assign(i,t),Object(r["a"])(i)}function G(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].LabelPrint+a+"/":n["a"].LabelPrint,method:e};return Object.assign(i,t),Object(r["a"])(i)}function z(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].UnqualifiedTrains+a+"/":n["a"].UnqualifiedTrains,method:e};return Object.assign(i,t),Object(r["a"])(i)}function H(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].UnqualifiedDealOrders+a+"/":n["a"].UnqualifiedDealOrders,method:e};return Object.assign(i,t),Object(r["a"])(i)}function J(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].IntervalOutputStatistics+a+"/":n["a"].IntervalOutputStatistics,method:e};return Object.assign(i,t),Object(r["a"])(i)}function Y(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].TrainsFeedbacksApiview+a+"/":n["a"].TrainsFeedbacksApiview,method:e};return Object.assign(i,t),Object(r["a"])(i)}function K(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].WeighInformationUrl+a+"/":n["a"].WeighInformationUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function Q(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].MixerInformationUrl+a+"/":n["a"].MixerInformationUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function X(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].CurveInformationUrl+a+"/":n["a"].CurveInformationUrl,method:e};return Object.assign(i,t),Object(r["a"])(i)}function Z(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:a?n["a"].AlarmLogList+a+"/":n["a"].AlarmLogList,method:e};return Object.assign(i,t),Object(r["a"])(i)}},"563e":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-form",{attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"原材料类别"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.materialTypeChange},model:{value:e.materialType,callback:function(a){e.materialType=a},expression:"materialType"}},e._l(e.materialTypeOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.global_name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"原材料名称"}},[t("el-input",{on:{input:e.getParam},model:{value:e.getParams.material_name,callback:function(a){e.$set(e.getParams,"material_name",a)},expression:"getParams.material_name"}})],1),t("el-form-item",{attrs:{label:"原材料编码"}},[t("el-input",{on:{input:e.getParam},model:{value:e.getParams.material_no,callback:function(a){e.$set(e.getParams,"material_no",a)},expression:"getParams.material_no"}})],1),t("el-form-item",{attrs:{label:"是否使用"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.getParam},model:{value:e.getParams.use_flag,callback:function(a){e.$set(e.getParams,"use_flag",a)},expression:"getParams.use_flag"}},e._l(e.optionsUser,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.permissionObj.material.indexOf("add")>-1?t("el-form-item",{staticStyle:{float:"right"}},[t("el-button",{on:{click:e.showAddMaterialDialog}},[e._v("新建")])],1):e._e()],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{align:"center",type:"index",label:"No",width:"50"}}),t("el-table-column",{attrs:{prop:"material_no",label:"原材料编码"}}),t("el-table-column",{attrs:{prop:"material_name",label:"原材料名称"}}),t("el-table-column",{attrs:{prop:"for_short",label:"原材料简称"}}),t("el-table-column",{attrs:{prop:"material_type_name",label:"原材料类别",width:"95px"}}),t("el-table-column",{attrs:{prop:"package_unit_name",label:"包装单位",width:"60px"}}),t("el-table-column",{attrs:{width:"50",align:"center",formatter:e.formatter,prop:"used_flag",label:"使用与否"}}),t("el-table-column",{attrs:{prop:"created_user_name",label:"创建人员",width:"100px"}}),t("el-table-column",{attrs:{prop:"created_date",label:"创建时间",width:"160px"}}),t("el-table-column",{attrs:{prop:"update_user_name",label:"更新人员",width:"100px"}}),t("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button-group",[e.permissionObj.material.indexOf("change")>-1?t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.showEditMaterialDialog(a.row)}}},[e._v("编辑 ")]):e._e(),e.permissionObj.material.indexOf("delete")>-1?t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleMaterialDelete(a.row)}}},[e._v(e._s(a.row.use_flag?"停用":"启用")+" ")]):e._e()],1)]}}])})],1),t("pagination",{attrs:{total:e.total,"current-page":e.getParams.page},on:{currentChange:e.currentChange}}),t("el-dialog",{attrs:{title:"添加原材料基本信息",visible:e.dialogAddMaterialBaseInfoVisible},on:{"update:visible":function(a){e.dialogAddMaterialBaseInfoVisible=a}}},[t("el-form",{ref:"materialBaseInfoForm",attrs:{rules:e.rules,model:e.materialBaseInfoForm,"label-width":e.formLabelWidth}},[t("el-form-item",{attrs:{error:e.materialBaseInfoFormError.material_no,label:"原材料编码",prop:"material_no"}},[t("el-input",{model:{value:e.materialBaseInfoForm.material_no,callback:function(a){e.$set(e.materialBaseInfoForm,"material_no",a)},expression:"materialBaseInfoForm.material_no"}})],1),t("el-form-item",{attrs:{error:e.materialBaseInfoFormError.material_name,label:"原材料名称",prop:"material_name"}},[t("el-input",{model:{value:e.materialBaseInfoForm.material_name,callback:function(a){e.$set(e.materialBaseInfoForm,"material_name",a)},expression:"materialBaseInfoForm.material_name"}})],1),t("el-form-item",{attrs:{error:e.materialBaseInfoFormError.for_short,label:"原材料简称"}},[t("el-input",{model:{value:e.materialBaseInfoForm.for_short,callback:function(a){e.$set(e.materialBaseInfoForm,"for_short",a)},expression:"materialBaseInfoForm.for_short"}})],1),t("el-form-item",{attrs:{error:e.materialBaseInfoFormError.material_type,label:"原材料类别",prop:"material_type"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.materialBaseInfoForm.material_type,callback:function(a){e.$set(e.materialBaseInfoForm,"material_type",a)},expression:"materialBaseInfoForm.material_type"}},e._l(e.materialTypeOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.global_name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{error:e.materialBaseInfoFormError.package_unit,label:"包装单位"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.materialBaseInfoForm.package_unit,callback:function(a){e.$set(e.materialBaseInfoForm,"package_unit",a)},expression:"materialBaseInfoForm.package_unit"}},e._l(e.packingUnitOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.global_name,value:e.id}})})),1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.dialogAddMaterialBaseInfoVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleAddMaterialBaseInfo}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"编辑原材料基本信息",visible:e.dialogEditMaterialBaseInfoVisible},on:{"update:visible":function(a){e.dialogEditMaterialBaseInfoVisible=a}}},[t("el-form",{ref:"materialBaseInfoEditForm",attrs:{rules:e.rules,model:e.materialBaseInfoForm,"label-width":e.formLabelWidth}},[t("el-form-item",{attrs:{error:e.materialBaseInfoFormError.material_no,label:"原材料编码",prop:"material_no"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.materialBaseInfoForm.material_no,callback:function(a){e.$set(e.materialBaseInfoForm,"material_no",a)},expression:"materialBaseInfoForm.material_no"}})],1),t("el-form-item",{attrs:{error:e.materialBaseInfoFormError.material_name,label:"原材料名称",prop:"material_name"}},[t("el-input",{model:{value:e.materialBaseInfoForm.material_name,callback:function(a){e.$set(e.materialBaseInfoForm,"material_name",a)},expression:"materialBaseInfoForm.material_name"}})],1),t("el-form-item",{attrs:{error:e.materialBaseInfoFormError.for_short,label:"原材料简称"}},[t("el-input",{model:{value:e.materialBaseInfoForm.for_short,callback:function(a){e.$set(e.materialBaseInfoForm,"for_short",a)},expression:"materialBaseInfoForm.for_short"}})],1),t("el-form-item",{attrs:{error:e.materialBaseInfoFormError.material_type,label:"原材料类别",prop:"material_type"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.materialBaseInfoForm.material_type,callback:function(a){e.$set(e.materialBaseInfoForm,"material_type",a)},expression:"materialBaseInfoForm.material_type"}},e._l(e.materialTypeOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.global_name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{error:e.materialBaseInfoFormError.package_unit,label:"包装单位"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.materialBaseInfoForm.package_unit,callback:function(a){e.$set(e.materialBaseInfoForm,"package_unit",a)},expression:"materialBaseInfoForm.package_unit"}},e._l(e.packingUnitOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.global_name,value:e.id}})})),1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.dialogEditMaterialBaseInfoVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleEditMaterialBaseInfo}},[e._v("确 定")])],1)],1)],1)},n=[],i=(t("a15b"),t("5530")),l=t("cf45"),o=t("1f6c"),s=t("3e51"),u=t("2f62"),c={components:{pagination:s["a"]},data:function(){return{tableData:[],optionsUser:[{value:!0,label:"Y"},{value:!1,label:"N"}],formLabelWidth:l["a"].formLabelWidth,materialType:"",materialTypeOptions:[],dialogAddMaterialBaseInfoVisible:!1,dialogEditMaterialBaseInfoVisible:!1,packingUnitOptions:[],materialBaseInfoForm:{material_no:"",material_name:"",for_short:"",use_flag:!0,material_type:null,package_unit:null},materialBaseInfoFormError:{material_no:"",material_name:"",for_short:"",use_flag:"",material_type:"",package_unit:""},rules:{material_no:[{required:!0,message:"请输入原材料编码",trigger:"blur"}],material_name:[{required:!0,message:"请输入原材料名称",trigger:"blur"}],material_type:[{required:!0,message:"请选择原材料类型",trigger:"change"}]},getParams:{page:1,use_flag:"",material_no:"",material_name:""},total:0}},computed:Object(i["a"])({},Object(u["b"])(["permission"])),created:function(){this.permissionObj=this.permission;var e=this;this.getList(),Object(o["m"])("get",{params:{class_name:"原材料类别",all:1}}).then((function(a){e.materialTypeOptions=a.results})).catch((function(){})),Object(o["m"])("get",{params:{class_name:"包装单位"}}).then((function(a){e.packingUnitOptions=a.results})).catch((function(){}))},methods:{getList:function(){this.beforeGetData();var e=this;e.loading=!0,Object(o["B"])("get",null,{params:e.getParams}).then((function(a){e.total=a.count,e.tableData=a.results||[],e.loading=!1})).catch((function(){e.loading=!1}))},currentChange:function(e){this.getParams.page=e,this.getList()},formatter:function(e,a){return e.use_flag?"Y":"N"},beforeGetData:function(){this.getParams["material_type_id"]=this.materialType},materialTypeChange:function(){this.getParams.page=1,this.getList()},getParam:function(){this.getParams.page=1,this.getList()},showAddMaterialDialog:function(){this.clearMaterialBaseInfoForm(),this.dialogAddMaterialBaseInfoVisible=!0},clearMaterialBaseInfoForm:function(){this.materialBaseInfoForm={material_no:"",material_name:"",for_short:"",use_flag:!0,material_type:null,package_unit:null}},clearMaterialBaseInfoFormError:function(){this.materialBaseInfoFormError={material_no:"",material_name:"",for_short:"",use_flag:"",material_type:"",package_unit:""}},handleAddMaterialBaseInfo:function(){this.clearMaterialBaseInfoFormError();var e=this;this.$refs["materialBaseInfoForm"].validate((function(a){if(!a)return!1;Object(o["B"])("post",null,{data:e.materialBaseInfoForm}).then((function(a){e.dialogAddMaterialBaseInfoVisible=!1,e.$message.success(e.materialBaseInfoForm.material_name+"创建成功"),e.getList()})).catch((function(a){for(var t in e.materialBaseInfoFormError)a[t]&&(e.materialBaseInfoFormError[t]=a[t].join(","))}))}))},showEditMaterialDialog:function(e){this.clearMaterialBaseInfoFormError(),this.materialBaseInfoForm=Object.assign({},e),this.dialogEditMaterialBaseInfoVisible=!0},handleMaterialDelete:function(e){var a=this,t=e.use_flag?"停用":"启用";this.$confirm("此操作将"+t+e.material_name+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["B"])("delete",e.id).then((function(e){a.$message({type:"success",message:"操作成功!"}),a.getList()})).catch((function(){}))})).catch((function(){}))},handleEditMaterialBaseInfo:function(){this.clearMaterialBaseInfoFormError();var e=this;this.$refs["materialBaseInfoEditForm"].validate((function(a){if(!a)return!1;Object(o["B"])("put",e.materialBaseInfoForm.id,{data:e.materialBaseInfoForm}).then((function(a){e.dialogEditMaterialBaseInfoVisible=!1,e.$message.success(e.materialBaseInfoForm.material_name+"修改成功"),e.getParams.page=1,e.getList()})).catch((function(a){for(var t in e.materialBaseInfoFormError)a[t]&&(e.materialBaseInfoFormError[t]=a[t].join(","))}))}))}}},m=c,d=t("2877"),f=Object(d["a"])(m,r,n,!1,null,null,null);a["default"]=f.exports},cf45:function(e,a,t){"use strict";a["a"]={formLabelWidth:"120px",statusList:[{id:1,name:"完成"},{id:2,name:"执行中"},{id:3,name:"失败"},{id:4,name:"新建"},{id:5,name:"关闭"}]}}}]);