{% extends 'gui/base.html' %}
{% load static %}

{% block main %}
    <el-form :inline="true">
        <el-form-item label="日期">
            <el-date-picker
                    v-model="search_time"
                    @change="search_timeChange"
                    type="date"
                    value-format="yyyy-MM-dd"
                    placeholder="选择日期">
            </el-date-picker>
        </el-form-item>
        <el-form-item label="班次">
            <el-select
                    style="width: 150px"
                    clearable
                    @change="classes_arrangeChange"
                    v-model="classes_arrange" placeholder="请选择">
                <el-option
                        v-for="item in classes_arrangeOptions"
                        :key="item.global_name"
                        :label="item.global_name"
                        :value="item.global_name">
                </el-option>
            </el-select>
        </el-form-item>
        <el-form-item label="胶料配料编码">
            <el-input v-model="rubber_recipe_no" v-on:input="rubber_recipe_noChange"></el-input>
        </el-form-item>

    </el-form>


    <el-table
            highlight-current-row
            @current-change="handleCurrentChange"
            :data="tableData"
            border
            style="width: 100%">
        <el-table-column width="40%" prop="equip_no" label="No" align="center"></el-table-column>
        <el-table-column width="50%" prop="sn" label="顺序" align="center"></el-table-column>
        <el-table-column width="60%" prop="classes" label="班次" align="center"></el-table-column>
        <el-table-column width="110%" prop="product_no" label="胶料配料编码" align="center"></el-table-column>
        <el-table-column width="105%" prop="material_type" label="原材料类型" align="center"></el-table-column>
        <el-table-column width="105%" prop="material_no" label="原材料编码" align="center"></el-table-column>
        <el-table-column width="105%" prop="material_name" label="原材料名称" align="center"></el-table-column>

        <el-table-column align="center" label="原材料库存">
            <el-table-column align="center" prop="unit" label="数量"></el-table-column>
            <el-table-column align="center" prop="unit_weight" label="单位重量"></el-table-column>
            <el-table-column align="center" prop="total_weight" label="总重量"></el-table-column>
        </el-table-column>

        <el-table-column align="center" label="需求量">
            <el-table-column align="center" prop="need_qty" label="数量"></el-table-column>
            <el-table-column align="center" prop="need_unit_weight" label="单位重量"></el-table-column>
            <el-table-column align="center" prop="need_total_weight" label="总重量"></el-table-column>
        </el-table-column>
    </el-table>

    {% include 'gui/paginations.html' %}
{% endblock %}


{% block dialogs %}
{% endblock %}


{% block scripts %}
    <script src="{% static 'gui/js/material_quantity_demanded.js' %}"></script>
{% endblock %}















