{% extends 'gui/base.html' %}
{% load static %}

{% block main %}
    <el-form :inline="true">
        <el-form-item label="段次">
            <el-select
                    clearable
                    @change="stageChange"
                    v-model="stage" placeholder="请选择">
                <el-option
                        v-for="item in stageOptions"
                        :key="item.id"
                        :label="item.global_name"
                        :value="item.id">
                </el-option>
            </el-select>
        </el-form-item>
        <el-form-item label="炼胶机类型">
            <el-select
                    clearable
                    @change="equipCatagoryChange"
                    v-model="equipCatagory" placeholder="请选择">
                <el-option
                        v-for="item in equipCatagoryOptions"
                        :key="item.id"
                        :label="item.global_name"
                        :value="item.id">
                </el-option>
            </el-select>
        </el-form-item>
        <el-form-item label="产地">
            <el-select
                    clearable
                    @change="factoryChange"
                    v-model="factory" placeholder="请选择">
                <el-option
                        v-for="item in factoryOptions"
                        :key="item.id"
                        :label="item.global_name"
                        :value="item.id">
                </el-option>
            </el-select>
        </el-form-item>
    </el-form>
    <el-table
            :data="tableData"
            border
            style="width: 100%">
        <el-table-column
                type="index"
                label="No"
                width="30">
        </el-table-column>
        <el-table-column
                prop="stage_product_batch_no"
                label="胶料编码">
        </el-table-column>
        <el-table-column
                prop="stage_name"
                label="段次">
        </el-table-column>
        <el-table-column
                prop="dev_type_name"
                label="炼胶机类型">
        </el-table-column>
        <el-table-column
                prop="factory_name"
                label="产地">
        </el-table-column>
        <el-table-column
                prop="versions_name"
                label="版本">
        </el-table-column>
        <el-table-column
                prop="product_name"
                label="胶料名称">
        </el-table-column>
        <el-table-column
                prop="batching_weight"
                label="配料重量">
        </el-table-column>
        <el-table-column
                prop="production_time_interval"
                label="配料时间">
        </el-table-column>
        <el-table-column
                :formatter="formatter"
                prop="used_type"
                label="应用与否">
        </el-table-column>
        <el-table-column
                prop="used_user_name"
                label="应用人员">
        </el-table-column>
        <el-table-column
                prop="used_time"
                label="应用时间">
        </el-table-column>
        <el-table-column
                prop="obsolete_user_name"
                label="废弃人">
        </el-table-column>
        <el-table-column
                prop="obsolete_time"
                label="废弃时间">
        </el-table-column>

    </el-table>
    {% include 'gui/paginations.html' %}
{% endblock %}


{% block dialogs %}


{% endblock %}


{% block links %}
    <link rel="stylesheet" href="{% static 'node_modules/bootstrap/dist/css/bootstrap.min.css' %}">
{% endblock %}

{% block scripts %}
    <script src="{% static 'gui/js/search_rubber_info.js' %}"></script>
{% endblock %}















